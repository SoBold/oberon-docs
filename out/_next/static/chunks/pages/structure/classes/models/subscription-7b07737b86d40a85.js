(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{769:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/structure/classes/models/subscription",function(){return t(5499)}])},5499:function(e,s,t){"use strict";t.r(s),t.d(s,{__toc:function(){return c}});var n=t(5893),i=t(2673),r=t(9298),d=t(9812);t(6834);var o=t(2643);let c=[{depth:2,value:"Properties",id:"properties"},{depth:2,value:"Methods",id:"methods"},{depth:3,value:"construct",id:"construct"},{depth:3,value:"init",id:"init"},{depth:3,value:"getValue",id:"getvalue"},{depth:3,value:"save",id:"save"},{depth:3,value:"delete",id:"delete"},{depth:3,value:"transactions",id:"transactions"},{depth:3,value:"getTransactionBasedValues",id:"gettransactionbasedvalues"},{depth:2,value:"Usage",id:"usage"}];function _createMdxContent(e){let s=Object.assign({h1:"h1",p:"p",h2:"h2",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",h3:"h3",code:"code",strong:"strong",ul:"ul",li:"li",pre:"pre",span:"span"},(0,o.a)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{children:"Subscription Model"}),"\n",(0,n.jsx)(s.p,{children:"The Oberon Subscription Model is responsible for managing individual subscription details, transactions, and associated database operations."}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Property Name"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"}),(0,n.jsx)(s.th,{children:"Version"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"id"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Subscription ID."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"user_id"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"User ID associated with the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"membership_id"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Membership ID associated with the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"coupon_id"}),(0,n.jsx)(s.td,{children:"int|null"}),(0,n.jsx)(s.td,{children:"Coupon ID associated with the subscription. Null if there's no associated coupon."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"price"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Price of the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"total"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Total amount of the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"tax_amount"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Tax amount of the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"tax_rate"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Tax rate of the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"tax_class"}),(0,n.jsx)(s.td,{children:"string|null"}),(0,n.jsx)(s.td,{children:"Tax class of the subscription. Null if not defined."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"gateway_type"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"Gateway type used for the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"period"}),(0,n.jsx)(s.td,{children:"int"}),(0,n.jsx)(s.td,{children:"Period of the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"period_type"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"Period type of the subscription (e.g., days, months)."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"renew"}),(0,n.jsx)(s.td,{children:"bool"}),(0,n.jsx)(s.td,{children:"Indicates if the subscription should be renewed."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"status"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"Status of the subscription."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"created_at"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"Creation timestamp."}),(0,n.jsx)(s.td,{children:"0.1.0"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"expires_at"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"Expiry timestamp."}),(0,n.jsx)(s.td,{children:"0.1.0"})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(s.h3,{id:"construct",children:(0,n.jsx)(s.code,{children:"construct"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"$id"})," (optional): Membership ID or ",(0,n.jsx)(s.code,{children:"0"})," to construct a new instance."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Initializes the model. By default, if no ID is provided, constructs a new subscription."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h3,{id:"init",children:(0,n.jsx)(s.code,{children:"init"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"$data"}),": Array of data to be assigned to the model."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"$id"})," (optional): The subscription ID."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Construct the model from inputted data."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h3,{id:"getvalue",children:(0,n.jsx)(s.code,{children:"getValue"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"$key"}),": The key of the columns you want to retrieve."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns:"})," Mixed"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Retrieve a piece of information from the subscription table based on the given key."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h3,{id:"save",children:(0,n.jsx)(s.code,{children:"save"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns:"})," ",(0,n.jsx)(s.code,{children:"int|bool"})," - ID on successful save, ",(0,n.jsx)(s.code,{children:"true"})," on update success, and ",(0,n.jsx)(s.code,{children:"false"})," on failure."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Save the subscription data to the database."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h3,{id:"delete",children:(0,n.jsx)(s.code,{children:"delete"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns:"})," ",(0,n.jsx)(s.code,{children:"bool"})," - True on successful deletion, false otherwise."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Delete the subscription from the database."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h3,{id:"transactions",children:(0,n.jsx)(s.code,{children:"transactions"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns:"})," ",(0,n.jsx)(s.code,{children:"Transaction[]"})," - Array of transactions."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Get the subscription transactions."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h3,{id:"gettransactionbasedvalues",children:(0,n.jsx)(s.code,{children:"getTransactionBasedValues"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns:"})," ",(0,n.jsx)(s.code,{children:"void"})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Description:"})," Retrieve the expiry date from the transactions."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Version:"})," ",(0,n.jsx)(s.code,{children:"0.1.0"})]}),"\n",(0,n.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(s.p,{children:"To initialize a new subscription:"}),"\n",(0,n.jsx)(s.pre,{"data-language":"php","data-theme":"default",children:(0,n.jsx)(s.code,{"data-language":"php","data-theme":"default",children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"$subscription "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"\\"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Oberon"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"\\"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Models"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"\\"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"Subscription"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]})})}),"\n",(0,n.jsx)(s.p,{children:"To save the subscription to the database:"}),"\n",(0,n.jsx)(s.pre,{"data-language":"php","data-theme":"default",children:(0,n.jsxs)(s.code,{"data-language":"php","data-theme":"default",children:[(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"$subscription"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"user_id "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"123"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"$subscription"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"membership_id "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-constant)"},children:"456"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,n.jsx)(s.span,{className:"line",children:(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// ... set other properties as required ..."})}),"\n",(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"$subscription"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"save"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})]})}),"\n",(0,n.jsx)(s.p,{children:"To retrieve a subscription transactions"}),"\n",(0,n.jsx)(s.pre,{"data-language":"php","data-theme":"default",children:(0,n.jsx)(s.code,{"data-language":"php","data-theme":"default",children:(0,n.jsxs)(s.span,{className:"line",children:[(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"$subscription"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"->"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"transactions"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-token-punctuation)"},children:"()"}),(0,n.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]})})})]})}let a={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,o.a)(),e.components);return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/structure/classes/models/subscription.mdx",route:"/structure/classes/models/subscription",timestamp:1697462863e3,pageMap:[{kind:"Meta",data:{index:"Introduction",database:"Database",structure:"Structure",javascript:"Javascript",about:{title:"About",type:"page"},contact:{title:"Contact ↗",type:"page",href:"https://twitter.com/shuding_",newWindow:!0}}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"database",route:"/database",children:[{kind:"Meta",data:{"custom-tables":"Custom Tables"}},{kind:"MdxPage",name:"custom-tables",route:"/database/custom-tables"}]},{kind:"MdxPage",name:"database",route:"/database"},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"javascript",route:"/javascript",children:[{kind:"Meta",data:{functions:"Functions",events:"Events"}},{kind:"Folder",name:"events",route:"/javascript/events",children:[{kind:"MdxPage",name:"MemberLogin",route:"/javascript/events/MemberLogin"},{kind:"MdxPage",name:"MemberLoginAttempt",route:"/javascript/events/MemberLoginAttempt"},{kind:"Meta",data:{MemberLoginAttempt:"MemberLoginAttempt",MemberLogin:"MemberLogin"}}]},{kind:"Folder",name:"functions",route:"/javascript/functions",children:[{kind:"MdxPage",name:"AttemptForgot",route:"/javascript/functions/AttemptForgot"},{kind:"MdxPage",name:"AttemptLogin",route:"/javascript/functions/AttemptLogin"},{kind:"MdxPage",name:"AttemptReset",route:"/javascript/functions/AttemptReset"},{kind:"MdxPage",name:"ChangeLoginScreen",route:"/javascript/functions/ChangeLoginScreen"},{kind:"MdxPage",name:"CheckMembershipPriceValid",route:"/javascript/functions/CheckMembershipPriceValid"},{kind:"MdxPage",name:"CreateUserSubscription",route:"/javascript/functions/CreateUserSubscription"},{kind:"MdxPage",name:"StripeCreatePaymentIntent",route:"/javascript/functions/StripeCreatePaymentIntent"},{kind:"MdxPage",name:"UpdateProfile",route:"/javascript/functions/UpdateProfile"},{kind:"MdxPage",name:"VerifyCoupon",route:"/javascript/functions/VerifyCoupon"},{kind:"Meta",data:{CreateUserSubscription:"CreateUserSubscription",VerifyCoupon:"VerifyCoupon",UpdateProfile:"UpdateProfile",StripeCreatePaymentIntent:"StripeCreatePaymentIntent",CheckMembershipPriceValid:"CheckMembershipPriceValid",ChangeLoginScreen:"ChangeLoginScreen",AttemptReset:"AttemptReset",AttemptLogin:"AttemptLogin",AttemptForgot:"AttemptForgot"}}]}]},{kind:"Folder",name:"structure",route:"/structure",children:[{kind:"Meta",data:{classes:"Classes"}},{kind:"Folder",name:"classes",route:"/structure/classes",children:[{kind:"Meta",data:{models:"Models"}},{kind:"Folder",name:"models",route:"/structure/classes/models",children:[{kind:"MdxPage",name:"coupon",route:"/structure/classes/models/coupon"},{kind:"MdxPage",name:"event",route:"/structure/classes/models/event"},{kind:"MdxPage",name:"member",route:"/structure/classes/models/member"},{kind:"MdxPage",name:"membership",route:"/structure/classes/models/membership"},{kind:"MdxPage",name:"subscription",route:"/structure/classes/models/subscription"},{kind:"MdxPage",name:"transaction",route:"/structure/classes/models/transaction"},{kind:"Meta",data:{coupon:"Coupon",event:"Event",member:"Member",membership:"Membership",subscription:"Subscription",transaction:"Transaction"}}]}]}]}],flexsearch:{codeblocks:!0},title:"Subscription Model",headings:c},pageNextRoute:"/structure/classes/models/subscription",nextraLayout:r.ZP,themeConfig:d.Z};s.default=(0,i.j)(a)},9812:function(e,s,t){"use strict";var n=t(5893);t(7294);let i={logo:(0,n.jsx)("span",{children:"Oberon"}),project:{link:"https://github.com/SoBold/oberon"},docsRepositoryBase:"https://github.com/SoBold/oberon-docs",footer:{text:"Oberon Docs | SoBold"}};s.Z=i}},function(e){e.O(0,[774,361,888,179],function(){return e(e.s=769)}),_N_E=e.O()}]);