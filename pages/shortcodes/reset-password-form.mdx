# `[obrn-reset-password-form]`

Renders a secure password reset form, accessible only via a valid `rp` action link typically sent via email. The form verifies the reset token and lets users enter and confirm a new password.

---

## Requirements

-   The URL **must** include:

    -   `?action=rp`
    -   `login` (username)
    -   `key` (reset key/token)

-   If missing or invalid, the form will display: `Invalid link`.

---

## Features

-   **User identity validation**:

    -   Retrieves the user via `get_user_by('login', $userLogin)`.
    -   Checks reset key validity with `check_password_reset_key()`.

-   **Form includes**:

    -   Hidden inputs for `key` and `user_login`.
    -   Email address (disabled input for reference only).
    -   Password and confirm password fields.

-   **Error message area**: A hidden div (`#loginMsg`) for dynamic validation or AJAX responses.

-   **Submit button**: Triggers password update logic (typically handled via JS).

---

## Integration Notes

-   The reset process relies on WordPress core password handling functions.

---

## Usage

```php
[obrn-reset-password-form]
```

This shortcode should be placed on a dedicated reset page that WordPress links to via the default password reset email.

---
